(this.webpackJsonpundefined=this.webpackJsonpundefined||[]).push([[0],{143:function(e,t,n){},144:function(e,t,n){},152:function(e,t,n){},210:function(e,t,n){},216:function(e,t,n){},223:function(e,t,n){},224:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(0),c=n(17),i=n.n(c),s=n(9),o=n(23),u=(n(143),n(22)),l=(n(144),n(227),n(133)),d=(n(148),n(100)),j=(n(150),n(131)),b=(n(152),function(e){var t=e.display,n=e.pseudo,r=e.mail,c=(e.password,e.date),i=e.onClick,o=e.init;t(),c=c.slice(0,10);var u=function(){o()},b=d.a.TabPane;return Object(a.jsxs)("div",{className:"account",children:[Object(a.jsx)("div",{className:"separator"}),Object(a.jsxs)("div",{className:"count",children:[Object(a.jsx)("h1",{children:"    Mon compte "}),Object(a.jsxs)(d.a,{onChange:function(e){console.log(e)},children:[Object(a.jsx)(b,{tab:"Tab 1",children:"Content of Tab Pane 1"},"1"),Object(a.jsx)(b,{tab:"Tab 2",children:"Content of Tab Pane 2"},"2")]})]}),"Pseudo: ",n," ",Object(a.jsx)("br",{}),"adresse mail: ",r," ",Object(a.jsx)("br",{}),"Date d'inscription: ",c," ",Object(a.jsx)("br",{}),Object(a.jsx)("br",{})," ",Object(a.jsx)("br",{}),Object(a.jsx)(s.b,{to:"/mise-a-jour-pseudo",onClick:u,children:"Modifier votre pseudo"})," ",Object(a.jsx)("br",{}),Object(a.jsx)(s.b,{to:"/mise-a-jour-pseudo",onClick:u,children:"Modifier votre adresse mail"})," ",Object(a.jsx)("br",{}),Object(a.jsx)(s.b,{to:"/mise-a-jour-mot-de-passe",onClick:u,children:"Modifier votre mot de passe"}),Object(a.jsx)("br",{}),Object(a.jsx)(s.b,{to:"/",children:" Accueil "}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsxs)(l.a,{title:"Voulez vous vraiment nous quitter ?",onConfirm:function(){i(),j.b.success("Suppression r\xe9ussie !")},okText:"Yes",cancelText:"No",className:"popconfirm",children:[Object(a.jsx)("img",{src:"https://media.giphy.com/media/dyJ9XHstowFRC/giphy.gif",alt:"gif d'un bonhomme de lumi\xe8re allant vers la sortie"}),"D\xe9sinscription"]})]})}),p=n(5),m=n(12),O=n.n(m),f=n(59),h=n.n(f),v={"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"},x="http://localhost:8080",g=function(){return O.a.defaults.withCredentials=!0,O.a.delete(x+"/deleteAccount",{headers:v})},y=function(){return O.a.defaults.withCredentials=!0,O.a.get(x+"/account")},w=function(){return!!localStorage.getItem("login")},C=function(){localStorage.setItem("login","Login")},S=function(){localStorage.removeItem("login")},N=function(e){return O.a.defaults.withCredentials=!0,O.a.post(x+"/login",h.a.stringify(e),{headers:v})},E=function(){return O.a.defaults.withCredentials=!0,O.a.get(x+"/logout")},q=function(e){return O.a.post(x+"/new-password/:passwordResetToken",h.a.stringify(e))},T=function(){return O.a.defaults.withCredentials=!0,O.a.get(x+"/")},k=function(e){return O.a.get(x+"/reset-password",h.a.stringify(e))},P=function(e){return O.a.post(x+"/signup",h.a.stringify(e),{headers:v})},R=function(e){return O.a.defaults.withCredentials=!0,O.a.put(x+"/update-mail",h.a.stringify(e),{headers:v})},_=function(e){return O.a.defaults.withCredentials=!0,O.a.put(x+"/update-user-name",h.a.stringify(e),{headers:v})},I=function(e){return O.a.defaults.withCredentials=!0,O.a.put(x+"/update-password",h.a.stringify(e),{headers:v})},D={pseudo:"",mail:"",password:"",date:""},A="ACCOUNT_SUCCESS",U="ACCOUNT_ERROR",M="UPDATE_SUCCESS",z="UPDATE_ERROR",V="DELETE_SUCCESS",L="DELETE_ERROR",F="INIT",B=function(e){return{type:A,payload:e}},G=function(){return{type:U}},J=function(e){return{type:M,payload:e}},W=function(){return{type:z}},$=function(){return{type:V}},H=function(){return{type:L}},Q=function(){return{type:F}},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return Object(p.a)(Object(p.a)(Object(p.a)({},e),t.payload),{},{error:!1});case U:return Object(p.a)(Object(p.a)({},e),{},{error:"affichage non r\xe9ussi"});case M:return Object(p.a)(Object(p.a)(Object(p.a)({},e),t.payload),{},{error:!1});case z:return Object(p.a)(Object(p.a)({},e),{},{error:"mise \xe0 jour non r\xe9ussi"});case V:return Object(p.a)(Object(p.a)(Object(p.a)({},e),D),{},{error:!1});case L:return Object(p.a)(Object(p.a)({},e),{},{error:"d\xe9sinscription non r\xe9ussi"});case F:return Object(p.a)(Object(p.a)(Object(p.a)({},e),D),{},{error:!1});default:return e}},Y=Object(o.b)((function(e){return{pseudo:e.account.pseudo,mail:e.account.mail,password:e.account.password,date:e.account.date}}),(function(e){return{display:function(){e((function(e,t){return y().then((function(t){e(B(t.data.user))})).catch((function(t){e(G())}))}))},init:function(){e(Q())},onClick:function(){e((function(e,t){return g().then((function(t){e($())})).catch((function(t){e(H())}))}))}}}))(b),K=n(53),Z=n.n(K),ee=n(69),te=n(18),ne="http://localhost:8080";console.log("API_URL: ",ne);var ae=function(e){return O.a.defaults.withCredentials=!1,O.a.get(ne+"/".concat(e,"/today"))},re=function(e){return O.a.defaults.withCredentials=!1,O.a.get(ne+"/".concat(e,"/week"))},ce=function(e,t){return O.a.defaults.withCredentials=!0,O.a.get(ne+"/description/".concat(e,"/").concat(t))},ie=function(e){var t=Object(r.useState)([]),n=Object(te.a)(t,2),c=n[0],i=n[1],s=e.match.params.eventName,o=e.match.params.idEvent;function u(){return(u=Object(ee.a)(Z.a.mark((function e(){var t;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce(s,o).then((function(e){return e.data.eventsInfo})).catch((function(e){}));case 2:t=e.sent,i(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){!function(){u.apply(this,arguments)}()}),[]),Object(a.jsx)("div",{className:"eventInfo",children:Object(a.jsxs)("div",{children:[Object(a.jsx)("p",{children:Object(a.jsx)("a",{href:"javascript:history.go(-1)",children:"Retour"})}),Object(a.jsxs)("div",{children:[c.title," ",c.start_time," ",c.city," ",c.region,c.description,c.links&&c.links.link.map((function(e){return Object(a.jsxs)("div",{children:[" ",Object(a.jsx)("a",{href:"".concat(e.url),target:"_blank",children:"Billeterie"})]},e.id)}))]})]})})},se=(n(60),n(32)),oe=n(34),ue=function(e){var t=e.mail,n=e.error,c=e.onSubmit,i=e.init;setTimeout((function(){i()}),1e3);var o=Object(r.useState)({mail:t}),u=Object(te.a)(o,2),l=u[0],d=u[1];return Object(a.jsxs)("div",{className:"form",children:[Object(a.jsx)("h1",{children:"R\xe9initialisation de votre mot de passe"}),Object(a.jsx)("br",{}),"inscrivez votre mail",Object(a.jsxs)("form",{onSubmit:function(e){e.preventDefault(),c(l)},action:"/resetPassword",method:"POST",children:[Object(a.jsx)(se.a,{className:"input",name:"mail",placeholder:"Entrer votre mail",onChange:function(e){var t=e.target.mail,n=e.target.value;d(Object(p.a)(Object(p.a)({},l),{},Object(oe.a)({},t,n)))},value:l.mail,required:!0}),Object(a.jsx)("button",{type:"submit",children:"envoy\xe9"}),Object(a.jsx)(s.b,{to:"/connectez-vous",children:"Pas encore inscrit ?"}),Object(a.jsxs)("p",{children:["   ",n]})]})]})},le={mail:""},de="ACCOUNT_SUCCESS",je="ACCOUNT_ERROR",be="INIT",pe=function(e){return{type:de,payload:e}},me=function(){return{type:je}},Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case de:return Object(p.a)(Object(p.a)(Object(p.a)({},e),t.payload),{},{error:!1});case je:return Object(p.a)(Object(p.a)({},e),{},{error:"Mail n'existe pas"});case be:return Object(p.a)(Object(p.a)(Object(p.a)({},e),le),{},{error:!1});default:return e}},fe=Object(o.b)((function(e){return{mail:e.resetPassword.mail}}),(function(e){return{onSubmit:function(t){e(function(e){return function(t,n){return k(e).then((function(e){t(pe(e.data))})).catch((function(e){console.log(e),t(me())}))}}(t))},init:function(){e({type:be})}}}))(ue),he=(n(210),function(){return Object(a.jsxs)("div",{className:"home",children:[Object(a.jsx)("div",{className:"separator"}),Object(a.jsx)("h1",{children:" welcome "}),Object(a.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Cras fringilla arcu vel urna rutrum viverra maximus vel risus. Integer sit amet sem hendrerit, porta diam a, blandit lorem. Pellentesque ut orci et dolor fringilla aliquam a ut mauris. Integer lacus tortor, scelerisque non sem ut, vulputate facilisis lorem. Mauris neque libero, efficitur eu metus in, gravida feugiat est. Cras eget ultricies est. Quisque augue nulla, dignissim ut pellentesque a, suscipit vitae nunc. Nullam sodales nibh tortor, non consequat tortor feugiat non. Morbi id orci venenatis, auctor ipsum ut, bibendum tellus. Etiam ante ex, dictum ut vulputate vel, suscipit et eros. Etiam eget leo vitae libero pulvinar sollicitudin. Maecenas et tellus elit. Nulla lorem purus, congue eu enim ac, faucibus mattis neque. Suspendisse diam diam, efficitur sit amet congue eget, hendrerit et erat."}),Object(a.jsx)("p",{children:"Aliquam erat volutpat. Mauris tincidunt mauris a urna facilisis accumsan. Proin suscipit consequat leo, id fringilla nibh fringilla a. Donec vel porta purus. Aenean pulvinar sodales mattis. Curabitur eget imperdiet mi, et bibendum metus. Cras eget nisl diam. Pellentesque mattis sollicitudin mi, nec dictum diam euismod quis."}),Object(a.jsx)("p",{children:"Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Mauris malesuada turpis in purus molestie dictum. Suspendisse vel lorem luctus, elementum lorem ac, porta mi. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Integer dictum et leo eget fermentum. Ut bibendum orci massa, nec tincidunt nunc suscipit non. Maecenas orci enim, mattis placerat nisl ac, eleifend fringilla quam. Cras suscipit dolor nulla, vitae porttitor lectus auctor vitae."}),Object(a.jsx)("p",{children:"Phasellus tortor dui, iaculis quis sem vitae, pulvinar sagittis quam. Maecenas placerat lorem ut efficitur molestie. Donec vitae ante non leo gravida viverra. Nullam sodales, risus eu rhoncus rutrum, risus tortor commodo ante, ac rhoncus dui magna ut nisi. Nunc quis tincidunt elit. Vestibulum et vehicula felis. Etiam tempus nec quam vel iaculis. Fusce vestibulum metus ut ipsum iaculis porta. Proin condimentum ex ac neque sagittis lobortis. Pellentesque dictum, velit sit amet viverra scelerisque, nisi sapien laoreet felis, ac blandit massa orci eu dolor. Sed sollicitudin neque in velit dictum, vel venenatis sem scelerisque. Cras in accumsan lorem, sed luctus tellus. Donec mollis neque a tincidunt feugiat."}),Object(a.jsx)("p",{children:"Duis ac commodo nisi, elementum varius lectus. Curabitur molestie rutrum augue nec finibus. Aliquam erat volutpat. Sed tristique faucibus turpis ut mattis. Suspendisse potenti. Ut in ex libero. Vivamus sagittis, erat et hendrerit hendrerit, mi elit consectetur mauris, id elementum odio diam nec odio. Nulla bibendum, nisl eget commodo convallis, augue diam fermentum lacus, ac laoreet purus justo eu dolor. Aliquam erat volutpat. In a imperdiet nunc. Aenean ultricies nisi eget lorem pretium, aliquet pellentesque est dictum. Aliquam massa felis, faucibus sit amet libero sit amet, efficitur sollicitudin lorem. Phasellus vitae orci vel lectus convallis tempor sit amet sit amet nibh. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas."})]})}),ve=function(e){var t=e.loggedout,n=e.onClick,r=e.pseudo;(0,e.display)();return t&&(S(),window.location.replace("http://localhost:3000/")),Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{children:r}),Object(a.jsxs)("div",{children:[" ",Object(a.jsx)(s.b,{to:"/compte",children:" Mon compte"})," "]}),Object(a.jsx)("a",{href:"/",onClick:function(){E(),n()},children:"d\xe9connectez-vous"})]})},xe={loggedout:!1,pseudo:""},ge="LOGOUT_SUCCESS",ye="LOGOUT_ERROR",we="PSEUDO_SUCCESS",Ce="PSEUDO_ERROR",Se=function(e){return{type:we,payload:e}},Ne=function(){return{type:Ce}},Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ge:return Object(p.a)(Object(p.a)({},e),{},{loggedout:!0,error:!1});case ye:return Object(p.a)(Object(p.a)({},e),{},{loggedout:!1,error:"D\xe9connexion non r\xe9ussi"});case we:return Object(p.a)(Object(p.a)(Object(p.a)({},e),t.payload),{},{error:!1});case Ce:return Object(p.a)(Object(p.a)({},e),{},{error:"affichage non r\xe9ussi"});default:return e}},qe=Object(o.b)((function(e){return{loggedout:e.loggedout.loggedout,pseudo:e.loggedout.pseudo}}),(function(e){return{onClick:function(){e({type:ge})},display:function(){e((function(e,t){return T().then((function(t){e(Se(t.data))})).catch((function(t){e(Ne())}))}))}}}))(ve),Te=(n(79),n(50)),ke=function(e){var t=e.pseudo,n=e.password,c=e.onSubmit,i=e.loggedin,o=e.error,u=e.init;setTimeout((function(){u()}),1e3);var l=Object(r.useState)({pseudo:t,password:n,loggedin:i}),d=Object(te.a)(l,2),j=d[0],b=d[1],m=function(e){var t=e.target.name,n=e.target.value;b(Object(p.a)(Object(p.a)({},j),{},Object(oe.a)({},t,n)))};return i&&(C(),setTimeout((function(){window.location.replace("http://localhost:3000/")}),1e3)),Object(a.jsxs)("div",{className:"form",children:[Object(a.jsx)("h1",{children:"Connectez-Vous"}),Object(a.jsx)("br",{}),Object(a.jsxs)("form",{onSubmit:function(e){e.preventDefault(),c(j)},action:"/",children:[Object(a.jsx)("label",{htmlFor:"pseudo",children:"Pseudo :  "}),Object(a.jsx)(se.a,{className:"input",id:"pseudo",name:"pseudo",placeholder:"Entrer votre pseudo",onChange:m,value:j.pseudo,required:!0})," ",Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{htmlFor:"password",children:"Mot de passe : "}),Object(a.jsx)(se.a,{className:"input",id:"password",name:"password",type:"password",placeholder:"Entrer votre mot de passe",onChange:m,value:j.password,required:!0})," ",Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)(Te.a,{htmlType:"submit",children:"Valider"}),Object(a.jsxs)("p",{children:[o,Object(a.jsx)("br",{}),Object(a.jsx)(s.b,{to:"/inscrivez-vous",children:"Pas encore inscrit ?"}),Object(a.jsx)(s.b,{to:"/mot-de-passe-oublie",children:"Mot de passe oubli\xe9 ? ?"})]})]})]})},Pe={pseudo:"",password:"",loggedin:!1,error:""},Re="LOGIN_SUCCESS",_e="LOGIN_ERROR",Ie="INIT",De=function(e){return{type:Re,payload:e}},Ae=function(){return{type:_e}},Ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Re:return Object(p.a)(Object(p.a)(Object(p.a)({},e),t.payload),{},{loggedin:!0,error:!1});case _e:return Object(p.a)(Object(p.a)({},e),{},{loggedin:!1,error:"Connexion \xe9chou\xe9"});case Ie:return Object(p.a)(Object(p.a)(Object(p.a)({},e),Pe),{},{loggedin:!1,error:!1});default:return e}},Me=Object(o.b)((function(e){return{pseudo:e.login.pseudo,password:e.login.password,loggedin:e.login.loggedin,subscriber:e.login.subscriber,error:e.login.error}}),(function(e){return{onSubmit:function(t){e(function(e){return function(t,n){return N(e).then((function(e){t(De(e.data))})).catch((function(e){e.response.data.text&&alert(e.response.data.text),t(Ae())}))}}(t))},init:function(){e({type:Ie})}}}))(ke),ze=n(70),Ve=n.n(ze),Le=function(e){var t=Ve()(e,{mail:{presence:!0,format:{pattern:/^[a-z0-9._-]+@[a-z0-9._-]{2,}\.[a-z]{2,4}$/,message:": Format invalide"}},pseudo:{presence:!0,length:{minimum:1e3,message:": Doit contenir 8 caract\xe8res"}}});return t&&console.log("result: ",t),[t.mail]},Fe=function(e){var t=e.mail,n=e.error,c=e.onSubmit,i=e.init,o=Object(u.g)();i();var l=Object(r.useState)({mail:t}),d=Object(te.a)(l,2),j=d[0],b=d[1],m=Le(j);return Object(a.jsxs)("div",{className:"setAccount",children:[Object(a.jsx)("h1",{children:"Modifier votre e-mail"}),Object(a.jsx)(s.b,{to:"/compte",className:"return",children:" Retour "}),Object(a.jsxs)("form",{onSubmit:function(e){e.preventDefault(),m[0]||(c(j),o.push("/compte"))},action:"/update-mail",method:"POST",children:[Object(a.jsx)(se.a,{className:"input",name:"mail",placeholder:"Entrer votre mail",onChange:function(e){var t=e.target.name,n=e.target.value;b(Object(p.a)(Object(p.a)({},j),{},Object(oe.a)({},t,n)))},value:j.mail,required:!0}),Object(a.jsx)("button",{type:"submit",children:Object(a.jsx)("img",{src:"../../../images/clap2.png",alt:"un clap de cin\xe9ma "})}),Object(a.jsxs)("p",{children:[" ",m,"  ",n]})]})]})},Be=Object(o.b)((function(e){return{mail:e.account.mail,update:e.account.update,error:e.account.error}}),(function(e){return{onSubmit:function(t){e(function(e){return function(t,n){return R(e).then((function(e){t(J(e.data))})).catch((function(e){e.response.data.error.keyValue.mail&&alert(e.response.data.error.keyValue.mail+" existe d\xe9j\xe0!"),t(W())}))}}(t))},init:function(){e(Q())}}}))(Fe),Ge=(n(212),n(132)),Je=(n(226),n(72)),We=(n(216),function(){var e=Object(r.useState)(null),t=Object(te.a)(e,2),n=t[0],c=t[1],i=Object(r.useState)("france"),o=Object(te.a)(i,2),u=o[0],l=(o[1],Je.a.SubMenu);return Object(a.jsx)("div",{className:"nav",children:Object(a.jsxs)(Je.a,{mode:"horizontal",className:"menu",theme:n,children:[Object(a.jsx)(l,{title:Object(a.jsx)(Ge.a,{onChange:function(e){c(e?"dark":"light");document.getElementsByClassName("ant-menu")[0];document.body.classList.toggle("dark")},checkedChildren:"Dark",unCheckedChildren:"Light"})}),Object(a.jsx)(Je.a.Item,{children:Object(a.jsx)(s.b,{to:"/",children:" Accueil "})},"home"),Object(a.jsx)(Je.a.Item,{children:Object(a.jsx)(s.b,{to:"/".concat(u,"/aujourdhui"),children:" Aujourd'hui"})},"today"),Object(a.jsx)(Je.a.Item,{children:Object(a.jsx)(s.b,{to:"/".concat(u,"/semaine"),children:" La semaine"})},"week")]})})}),$e=function(e){var t=Ve()(e,{password:{presence:!0,length:{minimum:8,message:": Doit contenir 8 caract\xe8res"}},pseudo:{presence:!0,length:{minimum:1e3,message:": Doit contenir 8 caract\xe8res"}}});return t&&console.log("result: ",t),[t.password]},He=function(e){var t=e.password,n=e.error,c=e.onSubmit,i=e.init,s=Object(u.g)();i(),console.log("states come from update:",t,n);var o=Object(r.useState)({password:t}),l=Object(te.a)(o,2),d=l[0],j=l[1],b=$e(d);return Object(a.jsxs)("div",{className:"setAccount",children:[Object(a.jsx)("h1",{children:"Modifier votre mot de passe"}),Object(a.jsxs)("form",{onSubmit:function(e){e.preventDefault(),b[0]||(c(d),s.push("/"))},action:"/newPassword",method:"POST",children:[Object(a.jsx)(se.a,{className:"input",name:"password",type:"password",placeholder:"Entrer votre password",onChange:function(e){var t=e.target.name,n=e.target.value;j(Object(p.a)(Object(p.a)({},d),{},Object(oe.a)({},t,n)))},value:d.password,required:!0}),Object(a.jsx)("button",{type:"submit",children:Object(a.jsx)("img",{src:"../../../images/clap2.png",alt:"clap de cin\xe9ma "})}),Object(a.jsxs)("p",{children:["  ",b," ",n]})]})]})},Qe={mail:""},Xe="ACCOUNT_SUCCESS",Ye="ACCOUNT_ERROR",Ke="INIT",Ze=function(e){return{type:Xe,payload:e}},et=function(){return{type:Ye}},tt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Xe:return Object(p.a)(Object(p.a)(Object(p.a)({},e),t.payload),{},{error:!1});case Ye:return Object(p.a)(Object(p.a)({},e),{},{error:"Mail n'existe pas"});case Ke:return Object(p.a)(Object(p.a)(Object(p.a)({},e),Qe),{},{error:!1});default:return e}},nt=Object(o.b)((function(e){return{password:e.newPassword.password}}),(function(e){return{onSubmit:function(t){e(function(e){return function(t,n){return q(e).then((function(e){t(Ze(e.data))})).catch((function(e){console.log(e),t(et())}))}}(t))},init:function(){e({type:Ke})}}}))(He),at=(n(223),function(){return Object(a.jsx)("div",{className:"ntf",children:Object(a.jsx)("h1",{children:'   "404" '})})}),rt=function(e){var t=e.password,n=e.error,c=e.onSubmit,i=e.init;Object(u.g)();i(),console.log("states come from update:",t,n);var o=Object(r.useState)({password:t}),l=Object(te.a)(o,2),d=l[0],j=l[1],b=$e(d);return Object(a.jsxs)("div",{className:"setAccount",children:[Object(a.jsx)("h1",{children:"Modifier votre mot de passe"}),Object(a.jsx)(s.b,{to:"/compte",className:"return",children:" Retour "}),Object(a.jsxs)("form",{onSubmit:function(e){e.preventDefault(),b[0]||(c(d),u.a)},action:"/update-password",method:"POST",children:[Object(a.jsx)(se.a,{className:"input",name:"password",type:"password",placeholder:"Entrer votre password",onChange:function(e){var t=e.target.name,n=e.target.value;j(Object(p.a)(Object(p.a)({},d),{},Object(oe.a)({},t,n)))},value:d.password,required:!0}),Object(a.jsx)("button",{type:"submit",children:Object(a.jsx)("img",{src:"../../../images/clap2.png",alt:"clap de cin\xe9ma "})}),Object(a.jsxs)("p",{children:["  ",b," ",n]})]})]})},ct=Object(o.b)((function(e){return{password:e.account.password,update:e.account.update,error:e.account.error}}),(function(e){return{onSubmit:function(t){e(function(e){return function(t,n){return I(e).then((function(e){t(J(e.data))})).catch((function(e){t(W())}))}}(t))},init:function(){e(Q())}}}))(rt),it=n(89),st=function(e){var t=e.component,n=Object(it.a)(e,["component"]);return Object(a.jsx)(u.b,Object(p.a)(Object(p.a)({},n),{},{render:function(e){return w()?Object(a.jsx)(t,Object(p.a)({},e)):Object(a.jsx)(u.a,{to:"/"})}}))},ot=function(e){var t=e.component,n=e.restricted,r=Object(it.a)(e,["component","restricted"]);return Object(a.jsx)(u.b,Object(p.a)(Object(p.a)({},r),{},{render:function(e){return w()&&n?Object(a.jsx)(u.a,{to:"/"}):Object(a.jsx)(t,Object(p.a)({},e))}}))},ut=function(e){var t=Ve()(e,{mail:{presence:!0,format:{pattern:/^[a-z0-9._-]+@[a-z0-9._-]{2,}\.[a-z]{2,4}$/,message:": Format invalide"}},password:{presence:!0,length:{minimum:8,message:": Doit contenir au moins 8 caract\xe8res"}},pseudo:{presence:!0,length:{minimum:1e3,message:": "}}});return t&&console.log("result: ",t),[t.mail," ",t.password]},lt=function(e){var t=e.pseudo,n=e.mail,c=e.password,i=e.onSubmit,o=(e.error,e.init),l=Object(u.g)();setTimeout((function(){o()}),1e3);var d=Object(r.useState)({pseudo:t,mail:n,password:c}),j=Object(te.a)(d,2),b=j[0],m=j[1],O=Object(r.useState)(!0),f=Object(te.a)(O,2),h=f[0],v=f[1],x=Object(r.useState)(!0),g=Object(te.a)(x,2),y=g[0],w=g[1],C=function(e){var t=e.target.name,n=e.target.value;m(Object(p.a)(Object(p.a)({},b),{},Object(oe.a)({},t,n)))},S=ut(b);return Object(a.jsxs)("div",{className:"form",children:[Object(a.jsx)("h1",{children:"Inscrivez-vous"}),Object(a.jsx)("br",{}),Object(a.jsxs)("form",{onSubmit:function(e){e.preventDefault(),void 0===S[0]&&void 0===S[2]&&(i(b),l.push("/connectez-vous")),S[0]?v(!1):v(!0),S[2]?w(!1):w(!0)},action:"/signup",method:"POST",children:[Object(a.jsx)("label",{htmlFor:"pseudo",children:"Pseudo : "}),Object(a.jsx)(se.a,{className:"input",id:"pseudo",name:"pseudo",placeholder:"Entrer votre pseudo",onChange:C,value:b.pseudo,required:!0})," ",Object(a.jsx)("br",{}),Object(a.jsx)("label",{htmlFor:"mail",children:"E-mail : "}),Object(a.jsx)(se.a,{className:"input",id:"mail",name:"mail",placeholder:"Entrer votre e-mail",onChange:C,value:b.mail,required:!0})," ",Object(a.jsx)("br",{}),Object(a.jsx)("label",{htmlFor:"password",children:" Mot de passe : "}),Object(a.jsx)(se.a,{className:"input",id:"password",name:"password",type:"password",placeholder:"Entrer votre mot de passe",onChange:C,value:b.password,required:!0})," ",Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)(Te.a,{htmlType:"submit",children:"Valider"}),h?" ":S[0]," ",y?" ":S[2]," ",Object(a.jsx)("p",{children:Object(a.jsx)(s.b,{to:"/connectez-vous",children:"D\xe9j\xe0 inscrit ?"})})]})]})},dt={pseudo:"",mail:"",password:""},jt="SIGNUP_SUCCESS",bt="SIGNUP_ERROR",pt="INIT",mt=function(e){return{type:jt,payload:e}},Ot=function(){return{type:bt}},ft=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case jt:return Object(p.a)(Object(p.a)(Object(p.a)({},e),t.payload),{},{error:!1});case bt:return Object(p.a)(Object(p.a)({},e),{},{error:"Inscription non r\xe9ussi"});case pt:return Object(p.a)(Object(p.a)(Object(p.a)({},e),dt),{},{error:!1});default:return e}},ht=Object(o.b)((function(e){return{pseudo:e.signup.pseudo,mail:e.signup.mail,password:e.signup.password,subscriber:e.signup.subscriber,error:e.signup.error}}),(function(e){return{onSubmit:function(t){e(function(e){return function(t,n){return P(e).then((function(e){t(mt(e.data))})).catch((function(e){e.response.data.text?alert(e.response.data.text):(e.response.data.error.keyValue.pseudo||e.response.data.error.keyValue.mail)&&alert((e.response.data.error.keyValue.pseudo||e.response.data.error.keyValue.mail)+" existe d\xe9j\xe0!"),t(Ot())}))}}(t))},init:function(){e({type:pt})}}}))(lt),vt=function(){var e=Object(r.useState)([]),t=Object(te.a)(e,2),n=t[0],c=t[1];function i(){return(i=Object(ee.a)(Z.a.mark((function e(){var t;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae("france").then((function(e){return e.data.todayEvents.events.event})).catch((function(e){}));case 2:t=e.sent,c(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){!function(){i.apply(this,arguments)}()}),[]),Object(a.jsx)("div",{className:"todayEvent",children:Object(a.jsx)("div",{children:n.map((function(e){return Object(a.jsxs)("div",{children:[e.title,"  ",e.start_time,e.venue_name," ",e.venue_address,e.city_name," ",e.region_name,Object(a.jsx)(s.b,{to:"/description/".concat(e.title,"/").concat(e.id),children:"Plus d'info"})]},e.id)}))})})},xt=function(e){var t=e.pseudo,n=(e.update,e.error),c=e.onSubmit,i=e.init,o=Object(u.g)();i();var l=Object(r.useState)({pseudo:t}),d=Object(te.a)(l,2),j=d[0],b=d[1];return Object(a.jsxs)("div",{className:"setAccount",children:[Object(a.jsx)("h1",{children:"Modifier votre pseudo"}),Object(a.jsx)(s.b,{to:"/compte",className:"return",children:"  Retour "}),Object(a.jsxs)("form",{onSubmit:function(e){e.preventDefault(),c(j),o.push("/compte")},action:"/updatepseudo",method:"POST",children:[Object(a.jsx)(se.a,{className:"input",name:"pseudo",placeholder:"Entrer votre pseudo",onChange:function(e){var t=e.target.name,n=e.target.value;b(Object(p.a)(Object(p.a)({},j),{},Object(oe.a)({},t,n)))},value:j.pseudo,required:!0}),Object(a.jsx)("button",{type:"submit",children:Object(a.jsx)("img",{src:"../../../images/clap2.png",alt:"un clap de cin\xe9ma "})}),Object(a.jsxs)("p",{children:[" ",n]})]})]})},gt=Object(o.b)((function(e){return{pseudo:e.account.pseudo,update:e.account.update,error:e.account.error}}),(function(e){return{onSubmit:function(t){e(function(e){return function(t,n){return _(e).then((function(e){t(J(e.data))})).catch((function(e){e.response.data.error.keyValue.pseudo&&alert(e.response.data.error.keyValue.pseudo+" existe d\xe9j\xe0!"),t(W())}))}}(t))},init:function(){e(Q())}}}))(xt),yt=function(){var e=Object(r.useState)([]),t=Object(te.a)(e,2),n=t[0],c=t[1];function i(){return(i=Object(ee.a)(Z.a.mark((function e(){var t;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re("france").then((function(e){return e.data.weekEvents.events.event})).catch((function(e){}));case 2:t=e.sent,c(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){!function(){i.apply(this,arguments)}()}),[]),Object(a.jsx)("div",{className:"weekEvents",children:Object(a.jsx)("div",{children:n.map((function(e){return Object(a.jsxs)("div",{children:[e.title,"  ",e.start_time,e.venue_name," ",e.venue_address,e.city_name," ",e.region_name,Object(a.jsx)(s.b,{to:"/description/".concat(e.title,"/").concat(e.id),children:"Plus d'info"})]},e.id)}))})})},wt=function(){setInterval((function(){S()}),36e5);return Object(r.useEffect)((function(){!function(){var e=document.getElementsByClassName("auth")[0],t=document.getElementsByClassName("un")[0];w()?(e.style.display="block",t.style.display="none"):(e.style.display="none",t.style.display="block")}()}),[]),Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)("header",{className:"App-header",children:Object(a.jsxs)("div",{className:"brand-header",children:[Object(a.jsx)("div",{className:"brand-name",children:"World Wide Event"}),Object(a.jsxs)("div",{className:"authentification",children:[Object(a.jsxs)("div",{className:"un authentificated",children:[Object(a.jsx)(s.b,{to:"/inscrivez-vous",children:" signup"}),Object(a.jsx)(s.b,{to:"/connectez-vous",children:" login"})]}),Object(a.jsx)("div",{className:" auth authentificated",children:Object(a.jsx)(qe,{})})]})]})}),Object(a.jsx)(We,{}),Object(a.jsxs)(u.d,{children:[Object(a.jsx)(ot,{restricted:!1,path:"/",exact:!0,component:he}),Object(a.jsx)(ot,{restricted:!1,path:"/:location/aujourdhui",exact:!0,component:vt}),Object(a.jsx)(ot,{restricted:!1,path:"/:location/semaine",exact:!0,component:yt}),Object(a.jsx)(ot,{restricted:!1,path:"/description/:eventName/:idEvent",exact:!0,component:ie}),Object(a.jsx)(st,{path:"/compte",exact:!0,component:Y}),Object(a.jsx)(ot,{restricted:!0,path:"/connectez-vous",exact:!0,component:Me}),Object(a.jsx)(ot,{restricted:!0,path:"/mot-de-passe-oublie",exact:!0,component:fe}),Object(a.jsx)(ot,{restricted:!0,path:"/nouveau-mot-de-passe/:passwordResetToken",exact:!0,component:nt}),Object(a.jsx)(st,{path:"/mise-a-jour-mail",exact:!0,component:Be}),Object(a.jsx)(st,{path:"/mise-a-jour-mot-de-passe",exact:!0,component:ct}),Object(a.jsx)(ot,{restricted:!0,path:"/inscrivez-vous",exact:!0,component:ht}),Object(a.jsx)(st,{path:"/mise-a-jour-pseudo",exact:!0,component:gt}),Object(a.jsx)(ot,{restricted:!1,path:"/404",exact:!0,component:at}),Object(a.jsx)(u.a,{to:"/404"})]})]})},Ct=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,230)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))},St=n(61),Nt=n(130),Et=Object(St.c)({account:X,loggedout:Ee,login:Ue,newPassword:tt,resetPassword:Oe,signup:ft}),qt=Object(St.d)(Et,Object(St.a)(Nt.a)),Tt=function(){return Object(a.jsx)(o.a,{store:qt,children:Object(a.jsx)(s.a,{children:Object(a.jsx)(wt,{})})})};i.a.render(Object(a.jsx)(Tt,{}),document.getElementById("root")),Ct()}},[[224,1,2]]]);
//# sourceMappingURL=main.5b43621a.chunk.js.map